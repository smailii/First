import org.junit.Assert;
import org.junit.Test;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.firefox.FirefoxDriver;

import java.util.List;

public class SeleniumTests {
    public WebDriver driver = new FirefoxDriver();
    public String[] arrayString = {"block", "bus", "class", "dev", "devices", "firmware", "fs", "kernel", "module", "power"};

    @Test
    public void testTitle() {
        driver.get("http://smail:8080/FileFolders/fileFolders");
        WebElement webElement = driver.findElement(new By.ByTagName("TITLE"));
        Assert.assertEquals("Web File Browser", webElement.getText());
        driver.close();
    }

    @Test
    public void testSortByNameUp() {
        int i = 0;

        driver.get("http://smail:8080/FileFolders/fileFolders?path=/sys&sortByName=true");
        List<WebElement> webElements = driver.findElements(By.id("nameFolder"));
        for (WebElement webElement : webElements) {
            Assert.assertTrue(arrayString[i].equals(webElement.getText()));
            i++;
        }
        driver.close();
    }

    @Test
    public void testSortByNameDown() {
        int i = arrayString.length - 1;

        driver.get("http://smail:8080/FileFolders/fileFolders?path=/sys&sortByName=false");
        List<WebElement> webElements = driver.findElements(By.id("nameFolder"));
        for (WebElement webElement : webElements) {
            Assert.assertTrue(arrayString[i].equals(webElement.getText()));
            i--;
        }
        driver.close();
    }

    @Test
    public void testEmptyFolder() {
        driver.get("http://smail:8080/FileFolders/fileFolders?path=/selinux");
        List<WebElement> webElements = driver.findElements(By.id("nameFolder"));
        Assert.assertFalse(webElements.size() > 0);
        driver.close();
    }

    @Test
    public void testExistImageDownSort() {
        driver.get("http://smail:8080/FileFolders/fileFolders?path=/sys&sortByDer=true");
        WebElement webElement = driver.findElement(By.id("imageDownSort"));
        Assert.assertTrue(webElement.isEnabled());
        driver.close();
    }

    @Test
    public void testExistImageUpSort() {
        driver.get("http://smail:8080/FileFolders/fileFolders?path=/sys&sortByDer=false");
        WebElement webElement = driver.findElement(By.id("imageUpSort"));
        Assert.assertTrue(webElement.isEnabled());
        driver.close();
    }

    @Test
    public void testNoExistFile() {
        driver.get("http://smail:8080/FileFolders/fileFolders?path=/boot/jh");
        WebElement webElement = driver.findElement(new By.ByTagName("h1"));
        Assert.assertEquals("Error path no exist", webElement.getText());
        driver.close();
    }


}
